/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function t(n){return n.slice(0,3)}var r=e.map(t),o=n.map(t);function u(n){return(10>n?"0":"")+n}var a="getFullYear",i="getMonth",c="getDate",l={YYYY:function(n){return n[a]()},YY:function(n){return(n[a]()+"").slice(2)},MMMM:function(e){return n[e[i]()]},MMM:function(n){return o[n[i]()]},MM:function(n){return u(n[i]()+1)},M:function(n){return n[i]()+1},DD:function(n){return u(n[c]())},D:function(n){return n[c]()},WWWW:function(n){return e[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return u(n.getHours())},H:function(n){return n.getHours()},h:function(n){var e=n.getHours();return 0==e?12:e>12?e-12:e},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},mm:function(n){return u(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return u(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function f(n){for(var e,t=[],r=/\{([a-z]+)\}|[^{]+/iy;e=r.exec(n);)t.push("{"==e[0][0]?l[e[1]]:e[0]);return function(n){for(var e="",r=0;t.length>r;r++)e+="string"==typeof t[r]?t[r]:t[r](n);return e}}var s=requestAnimationFrame,v=document,m=window,h=devicePixelRatio,d=Math,g=d.floor,p=d.round,x=d.ceil,y=d.min,M=d.max,D=d.pow,w=d.log10;function b(n,e){return x(n/e)*e}var Y="width",E="height",T="top",W="bottom",H="left",C="right",S="firstChild",k="createElement",A="#000",P=Object.assign,F={color:"#eee",width:2},z=3600,J=24*z,L={scale:"x",space:40,height:30,side:0,class:"x-time",incrs:[1,5,10,15,30,60,300,600,900,1800,z,2*z,3*z,4*z,6*z,8*z,12*z,J,2*J,3*J,4*J,5*J,6*J,7*J,8*J,9*J,10*J,365*J],values:function(n){var e=n[1]-n[0],t=f(J>e?z>e?60>e?"{M}/{DD}\n{h}:{mm}:{ss}{aa}":"{M}/{DD}\n{h}:{mm}{aa}":"{M}/{DD}\n{h}{aa}":"{M}/{D}");return n.map((function(n){return t(new Date(1e3*n))}))},grid:F},R=f("{YYYY}-{MM}-{DD} {h}:{mm}{aa}"),N={label:"Time",scale:"x",value:function(n){return R(new Date(1e3*n))}},O={scale:"y",space:30,width:50,side:1,class:"y-vals",incrs:[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8,2e8,5e8,1e9],values:function(n){return n},grid:F},V={shown:!0,label:"Value",scale:"y",value:function(n){return n}};function X(n){function e(n,e,t){return[n.x].concat(n.y).map((function(n,r){return P({},0==r?e:t,n)}))}var t=e(n.series,N,V),r=e(n.axes,L,O),o=t.map((function(n){return n.data})),u={},l=n.cursor,f=o[0].length,d=0,x=f-1;function F(n,e,t){n.style[e]=t+"px"}function z(n,e,t,r){tn.strokeStyle=n||A,tn.lineWidth=e||1,tn.setLineDash(t||[]),tn.fillStyle=r||A}var J=rn("chart"),R=rn("plot",J),X=n[Y],j=n[E],q=X,B=j,G=0,I=0;r.forEach((function(n){var e=n.side;if(e%2){var t=n[Y]=n[Y]||40;q-=t,1==e&&(G+=t)}else{var r=n[E]=n[E]||30;B-=r,2==e&&(I+=r)}}));var K=X-G,Q=j-I,U=G+q,Z=I+B;r.forEach((function(n){var e=n.side,t=e%2,r=n.root=rn((t?"y":"x")+"-labels-"+e,J);if(t){var o=n[Y];F(r,Y,o),F(r,E,B),F(r,T,I),1==e?(F(r,C,K),K+=o):(F(r,H,U),U+=o)}else{var u=n[E];F(r,E,u),F(r,Y,q),F(r,H,G),2==e?(F(r,W,Q),Q+=u):(F(r,T,Z),Z+=u)}})),F(R,T,I),F(R,H,G),F(J,Y,X),F(J,E,j);var $,_,nn=function(n,e){var t=v[k]("canvas"),r=t.getContext("2d");return t[Y]=p(n*h),t[E]=p(e*h),F(t,Y,n),F(t,E,e),{can:t,ctx:r}}(q,B),en=nn.can,tn=nn.ctx;function rn(n,e){var t=v[k]("div");return null!=n&&(t.className=n),null!=e&&e.appendChild(t),t}function on(n,e,t){return null==n?n:p((1-(n-e.min)/(e.max-e.min))*t)+.5}function un(n,e,t){return p((n-e.min)/(e.max-e.min)*t)+.5}function an(e,l){d=e,x=l,function(){u={},t.forEach((function(n,e){0==e?u[n.scale]={min:o[0][d],max:o[0][x]}:n.shown&&function(n,e){n in u||(u[n]={min:1/0,max:-1/0});for(var t=u[n],r=d;x>=r;r++)t.min=y(t.min,e[r]),t.max=M(t.max,e[r]);var o=w(t.max-t.min),a=g(o),i=D(10,a)/2;t.min=y(function(n,e){return g(n/e)*e}(t.min,i),t.min),t.max=M(b(t.max,i),t.max)}(n.scale,o[e])}))}(),tn.clearRect(0,0,en[Y],en[E]),r.forEach((function(n){!function(n){for(;n[S];)n[S].remove()}(n.root)})),function(){r.forEach((function(e,t){var r,o=0==t?0:1,l=0==o?Y:E,f=0==o?E:Y,s=u[e.scale];if(null!=s){var v=s.min,m=s.max,d=function(n,e,t,r){for(var o=t/n,u=0;e.length>u;u++){var a=e[u]*o;if(a>=r)return[e[u],a]}}(m-v,e.incrs,n[l],e.space),g=d[0],x=d[1];0==t&&(v=(r=function(n,e,t){var r=new Date(1e3*n),o=+new Date(r[a](),r[i](),r[c]())/1e3;return[o+b(n-o,t),e]}(v,m,g))[0],m=r[1]);for(var y=[],M=v;m>=M;M+=g)y.push(M);var D=e.values(y,x),w=0==o?un:on,W=0==o?H:T,C=y.map((function(n){return w(n,s,en[l])}));C.forEach((function(n,t){!function(n,e,t,r){var o=rn(null,n);o.textContent=e,F(o,t,r)}(e.root,D[t],W,p(n/h))}));var S=e.grid;S&&(z(S.color||"#eee",S[Y],S.dash),tn.beginPath(),C.forEach((function(n){var e,t,r,u;0==o?(t=0,u=en[f],e=r=n):(e=0,r=en[f],t=u=n),tn.moveTo(e,t),tn.lineTo(r,u)})),tn.stroke())}}))}(),function(){t.forEach((function(n,e){e>0&&n.shown&&function(n,e,t,r,o,u,a,i){var c;z(o,u,a,i);var l=!1;tn.beginPath();for(var f=d;x>=f;f++){var s=un(n[f],t,en[Y]),v=on(e[f],r,en[E]);null==v?(l=!0,tn.moveTo(s,c)):(c=v,l?(tn.moveTo(s+.5,v),l=!1):tn.lineTo(s,v))}tn.stroke()}(o[0],o[e],u[t[0].scale],u[n.scale],n.color,n[Y],n.dash,n.fill)}))}()}an(d,x),R.appendChild(en),l&&($=rn("vt",R),_=rn("hz",R),hn($,q/2,0),hn(_,0,B/2));var cn=rn("region",R),ln=rn("legend",J),fn=t.map((function(n,e){var t=rn("label",ln);return t.style.color=n.color,t.textContent=n.label+": -",e>0&&bn("click",t,(function(){n.shown=!n.shown,t.classList.toggle("off"),an(d,x)})),t})),sn=t.map((function(n,e){if(e>0&&n.shown){var t=rn("dot",R);return t.style.background=n.color,t}})),vn=!1;function mn(n){return function(n,e,t,r){var o;t=t||0;for(var u=2147483647>=(r=r||e.length-1);r-t>1;)n>e[o=u?t+r>>1:g((t+r)/2)]?t=o:r=o;return n-e[t]>e[r]-n?r:t}(o[0][d]+n/q*(o[0][x]-o[0][d]),o[0],d,x)}function hn(n,e,t){n.style.transform="translate("+e+"px,"+t+"px)"}function dn(){vn=!1,l&&(hn($,xn,0),hn(_,0,yn));for(var n=mn(xn),e=un(o[0][n],u[t[0].scale],q),r=0;t.length>r;r++){var a=t[r];if(r>0&&a.shown){var i=on(o[r][n],u[a.scale],B);hn(sn[r],e,i)}fn[r][S].nodeValue=a.label+": "+a.value(o[r][n])}if(Mn){var c=y(gn,xn),f=M(gn,xn);F(cn,H,c),F(cn,Y,f-c)}}var gn=null,pn=null,xn=null,yn=null,Mn=!1,Dn=null;function wn(){Dn=en.getBoundingClientRect()}function bn(n,e,t){e.addEventListener(n,t,{passive:!0})}bn("mousemove",en,(function(n){null==Dn&&wn(),xn=n.clientX-Dn.left,yn=n.clientY-Dn.top,vn||(vn=!0,s(dn))})),bn("mousedown",en,(function(n){gn=n.clientX-Dn.left,pn=n.clientY-Dn.top,Mn=!0})),bn("mouseup",en,(function(){if(Mn=!1,xn!=gn||yn!=pn){F(cn,H,0),F(cn,Y,0);var n=y(gn,xn),e=M(gn,xn);an(mn(n),mn(e))}})),bn("dblclick",en,(function(){0==d&&x==f-1||an(0,f-1)}));var Yn=function(n){var e=null;function t(){e=null,n()}return function(){clearTimeout(e),e=setTimeout(t,100)}}(wn);bn("resize",m,Yn),bn("scroll",m,Yn),this.root=J}return X.fmtDate=f,X}();
